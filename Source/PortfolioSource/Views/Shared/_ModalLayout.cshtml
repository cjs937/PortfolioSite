@model PortfolioSource.Models.PortfolioItemViewModel
<link rel="stylesheet" href="~/css/styles.css" />

<div class="modal-dialog @Model.ModalSize">
    <div class="modal-content">
        <div class="modal-header border-0">
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center pb-5">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <!-- Portfolio Modal - Title-->
                        <h1 class="portfolio-modal-title text-secondary text-uppercase mb-0">
                            <a class="title-link" href="@Model.WebsiteURL" target="_blank">@Model.Title</a>
                        </h1>
                        <br/>
                        <!--Image-->
                        <img class="img-fluid rounded mb-5" src="@Model.ImageURL" alt="..." />
                        <br/>
                        <!-- Badges -->
                        <div>
                            @foreach(var badgePair in Model.Badges)
                            {
                                Console.WriteLine("Adding badge pair: " + badgePair.Key + " : " + badgePair.Value);

                                <span class="badge @(badgePair.Value == "" ? "text-bg-secondary" : badgePair.Value) m-1 p-2">@badgePair.Key</span>
                            }
                        </div>
                        <br/>

                            @* <!-- Icon Divider -->
                        <div class="divider-custom">
                            <div class="divider-custom-line"></div>
                            <!-- <div class="divider-custom-icon"><i class="fas fa-star"></i></div> -->
                            <div class="divider-custom-line"></div>
                        </div>  *@
                        <!--Body-->
                        <div class="modal-body bordered">
                            @Html.Raw(Model.BodyIntro)
                        </div>

                        <div>
                            <!-- Carousel -->
                            @if(Model.GalleryURLs.Count > 0)
                            {
                                <div id="modal-carousel" class="carousel slide">
                                    <div class="carousel-inner">
                                        @foreach(var img in Model.GalleryURLs)
                                        {
                                            Console.WriteLine("Adding Carousel Image: " + img);

                                            <div class="carousel-item @(img == Model.GalleryURLs[0] ? "active" : "")">
                                                <img src="@img" class="d-block w-100" alt="Carousel Image">
                                            </div>
                                        }
                                    </div>

                                    <button class="carousel-control-prev" type="button" data-bs-target="#modal-carousel" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#modal-carousel" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>
                            }
                        <br/>
                        </div>

                        <div class="modal-body">
                        @Html.Raw(Model.BodyMain)
                        <br/>
                        </div>

                        <!-- Contributions List -->
                        @if(Model.Contributions.Count > 0)
                        {
                            <h3 class="bordered">Contributions</h3>
                            <ul class="no-bullets">
                            @foreach(var contribution in Model.Contributions)
                            {
                                <li>
                                    <h4 class="bordered contribution-item"><strong>@contribution.Key</strong></h4>

                                    @if(!string.IsNullOrEmpty(contribution.Value))
                                    {
                                        @Html.Raw(contribution.Value);
                                        <br/>
                                        <br/>
                                    }

                                </li>
                            }
                            </ul>
                        }

                        <div class="d-flex justify-content-center gap-2">
                            <button class="btn btn-primary" data-bs-dismiss="modal">
                                <i class="fas fa-xmark fa-fw"></i>
                                Close Window
                            </button>
                        
                            @if (Model.WebsiteURL != null)
                            {
                                <a href="@Model.WebsiteURL" target="_blank" class="btn btn-secondary">
                                    <i class="fas fa-globe fa-fw"></i>
                                    Visit Website
                                </a>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer border-0">
            @Html.Raw(Model.Footer);
        </div>

    </div>
</div>